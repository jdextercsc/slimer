# 2.0. Logical Architecture Overview---## 2.1.	Openstack Technology OverviewThe Automation 2.0 OpenStack solution will be built using OpenSource technologies and solutions to deliver cloud IaaS computing.The Solution will consist of:- Controllers- Swift storage nodes- scaleio storage nodes- Hypervisor![Logical Mapping of Openstack Cluster](logical_mapping.png "Logical Mapping of Openstack Cluster")---## 2.2. InfrastructureFrom an infrastructure perspective, an OpenStack Cloud is built on a foundation of virtual infrastructure, where components are split between a controller and cloud consumer resources to present client applications.In building an OpenStack Cloud the control components such as horizon dashboard will run in virtual machines.As a best practice, the resources allocated for management functions will be separate from pure user-requested workloads, the underlying controller nodes clusters will be split into two logical groups:-	A management pair of controller nodes running all core components and services needed to run the cloud-	Remaining available KVM compute nodes to provide vCPU and vRAM resources for consumption.Reasons for organizing and separating resources include:-	Ensuring that management components are separate from the resources they are managing.-	Minimizing overhead for cloud consumer resources. Resources allocated for cloud use have little overhead reserved.-	Dedicating resources for the cloud. Resources can be consistently and transparently managed and carved up and scaled horizontally.The underlying KVM Infrastructure will follow Linux KVM best practices. Design considerations specific to a OpenStack components will be addressed accordingly in this document, organized by the management nodes and cloud consumer resources.---## 2.3. Logical Build of Cluster Items### ControllerThe Controller nodes are responible for all of the API interactions with the services of OpenStack.  The controllers also provides databases, networking, as well as the OpenStack services.All openstack services are Active/Active unless otherwise specified.  The clustering of the services is handled via Pacemaker.*The use of pacemaker limits the number of controllers in the cluster to* **16** *this is a limitation of corosync.* Also note to keep quorum, there is a minimum of **3** controllers, and that and odd number of controllers should be maintained the ability to have quorum.  For quorum the cluster must have 51% of the voting cluster machines agree on the loss of a node(s).#### The core services provided by the controller group are:- sql database, provided by mariadb  - galera is used to cluster the sql database, and replication across nodes.- mongodb database- pacemaker / corosync- haproxy loadbalancer- message bus, provided by rabbitmq  - rabbitmq operates in native clustering- memcache#### Openstack Services- Neutron (networking)  - Loadblancer as a Service (LBaaS)  - Firewall as a Service (FWaaS)- Glance (image service)- Cinder (block Storage)(**active/passive**)- Nova (non-compute)- Horizon (web ui)- Keystone (identity)- Heat (orchistration) (**active/passive**)- swift proxy (object storage)- ceilometer (metering)### Swift Storage nodeWhile swift proxy services are run on the controllers. The rest of the swift components are proivded by the storage nodes. These additional services are:- object server- account server- container serverThese storage nodes maintain redundancy via rysnc.  It is suggest to have a minimum of 3 swift nodes per the OpenStack admin guide best practices.### ScaleIO nodeScaleIO provides software-defined converged Server SAN.  ScaleIO consists of :- Metadata Manager (MDM)  - Configures and monitors the ScaleIO system.  - Keeps track of storage and data mapping  - Monitors capacity performance and Load balancing  - Makes data migration decisions- Gateway, Provides RESTful interface for interacting wtih the ScaleIO applicatoin- ScaleIO Data Server (SDS), Presents local storage to be used by ScaleIO.- ScaleIO Data Client (SDC),  Exposes the ScaleIO volumes to applications### Compute HypervisorThe compute hypervisor node supply KVM hypervisors to the enviroment by way of libvirt.  The hypervisor node has services for ceilometer as well as neutrons openvswitch.# 2.4.  ---[Table of Contents](toc.md) | [Back - Introduction](1.intro.md) | [Next - 2.0 Openstack Services Overview](2.0.osp_services.md)